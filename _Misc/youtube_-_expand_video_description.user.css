/* ==UserStyle==
@name         YouTube - Expand video description
@description  And opposite with button press
@author       krisu (https://github.com/krisu5)
@namespace    github.com/krisu5/userstyles
@homepageURL  https://github.com/krisu5/userstyles/tree/master/_Misc
@version      0.0.5
@license      unlicense
==/UserStyle== */

/* 
    KNOWN ISSUES:
    - Works opposite on currently livestreamed videos.
    - IDK how well this works with premieres (never watched those).
    
    POSSIBLE FIXES FOR LIVESTREAMS WITH UBLOCK ORIGIN:
    - Add these filters to "My filters":
    
    youtube.com##body:has(.short-view-count:empty) #meta-contents ytd-expander > #content.ytd-expander:style(overflow: auto !important; max-height: inherit !important;)
    youtube.com##body:has(.short-view-count:empty) #meta-contents ytd-expander #always-shown:not(:empty):style(visibility: inherit !important; height: auto !important; margin-bottom: 10px !important;)
    youtube.com##body:has(.short-view-count:empty) #meta-contents ytd-video-secondary-info-renderer:style(padding-bottom: 0 !important;)
    youtube.com##body:has(.short-view-count:empty) #meta-contents ytd-metadata-row-container-renderer #always-shown:empty:style(padding-bottom: 25px !important;)
    youtube.com##body:has(.short-view-count:empty) tp-yt-paper-button#more
    youtube.com##body:has(.short-view-count:empty) tp-yt-paper-button#less
    
    ------------------
    
    "::after" pseudo selectors can't be styled when using ":has" selector in the filter, so I just block the "show more" & "show less" buttons completely instead.
*/

@-moz-document domain("youtube.com") {
    
#meta-contents ytd-expander[collapsed] > #content.ytd-expander {
    overflow: auto;
    max-height: inherit;
}

#meta-contents ytd-expander:not([collapsed]) > #content.ytd-expander {
    overflow: hidden;
    max-height: 60px;
}

.more-button.ytd-video-secondary-info-renderer::after {
    content: "show less";
    font-size: 1.3rem;
}

.less-button.ytd-video-secondary-info-renderer::after {
    content: "show more";
    font-size: 1.3rem;
}

#meta-contents ytd-expander:not([collapsed]) #always-shown:not(:empty) {
    visibility: hidden;
    height: 5px;
}

.more-button.ytd-video-secondary-info-renderer,
.less-button.ytd-video-secondary-info-renderer
{ font-size: 0; }

#meta-contents ytd-metadata-row-container-renderer #always-shown:empty
{ padding-bottom: 10px; }

#meta-contents ytd-metadata-row-container-renderer #collapsible
{ display: none; }

}